header_cards:
  cards:
    - type: custom:browser-control-card
      hide_fullscreen: true
      hide_screenlock: true
      hide_zoom: true
      hide_refresh: true
      no_padding: true
      small_buttons: true
      style: |
        .type-custom-browser-control-card a {
          background: var(--app-header-background-color) !important;
          color: var(--primary-text-color) !important;
          border: var(--card-background-color) !important;
        }
title: Home
views:
  - theme: Google Dark Theme
    title: Home
    path: home
    icon: mdi:home
    badges: []
    cards:
      - type: vertical-stack
        cards:
          - type: conditional
            conditions:
              - entity: media_player.roon_bathroom
                state: playing
            card:
              type: custom:mini-media-player
              entity: media_player.roon_bathroom
              artwork: full-cover-fit
              volume_step: 1
              volume_stateless: true
              hide:
                icon: true
                info: true
                power: true
                progress: true
                volume_level: false
          - type: conditional
            conditions:
              - entity: media_player.roon_bedroom
                state: playing
            card:
              type: custom:mini-media-player
              entity: media_player.roon_bedroom
              artwork: full-cover-fit
              volume_step: 1
              volume_stateless: true
              hide:
                icon: true
                info: true
                power: true
                progress: true
                volume_level: false
          - type: conditional
            conditions:
              - entity: media_player.roon_headphones
                state: playing
            card:
              type: custom:mini-media-player
              entity: media_player.roon_headphones
              artwork: full-cover-fit
              hide:
                icon: true
                info: true
                power: true
                progress: true
                volume: true
          - type: conditional
            conditions:
              - entity: media_player.roon_kitchen
                state: playing
            card:
              type: custom:mini-media-player
              entity: media_player.roon_kitchen
              artwork: full-cover-fit
              volume_step: 1
              volume_stateless: true
              hide:
                icon: true
                info: true
                power: true
                progress: true
                volume_level: false
          - type: conditional
            conditions:
              - entity: media_player.roon_livingroom
                state: playing
            card:
              type: custom:mini-media-player
              entity: media_player.roon_livingroom
              artwork: full-cover-fit
              volume_step: 1
              volume_stateless: true
              hide:
                icon: true
                info: true
                power: true
                progress: true
                volume_level: false
          - type: conditional
            conditions:
              - entity: media_player.roon_office
                state: playing
            card:
              type: custom:mini-media-player
              entity: media_player.roon_office
              artwork: full-cover-fit
              volume_step: 1
              volume_stateless: true
              hide:
                icon: true
                info: true
                power: true
                progress: true
                volume_level: false
          - type: conditional
            conditions:
              - entity: sensor.lastfm
                state_not: Not Scrobbling
            card:
              type: logbook
              entities:
                - sensor.lastfm
              hours_to_show: 12
          - type: entity-filter
            show_empty: false
            state_color: true
            entities:
              - entity: switch.livingroom_tv_power
                state_color: true
                name: Livingroom TV
                type: custom:secondaryinfo-entity-row
                secondary_info: '[[ sensor.livingroom_tv_power_consumption ]] W'
              - entity: light.bedroom_light
                secondary_info: brightness
              - entity: light.balcony_light
                secondary_info: brightness
              - entity: light.kitchen_light_group
                secondary_info: brightness
              - entity: light.livingroom_floodlight
                secondary_info: brightness
              - entity: light.livingroom_tv_light
                secondary_info: brightness
              - entity: switch.heatingroom_pump
                name: Pump
                type: custom:secondaryinfo-entity-row
                secondary_info: '[[ sensor.heatingroom_pump_power_consumption ]] W'
              - entity: vacuum.livingroom_deebot
                secondary_info: last-changed
                name: Deebot
                state_color: true
              - entity: sensor.hacs
                state_color: true
                state_filter:
                  - '1'
                tap_action:
                  action: navigate
                  navigation_path: /hacs
              - entity: switch.kitchen_pc
                state_color: true
                type: custom:secondaryinfo-entity-row
                secondary_info: '[[ sensor.kitchen_pc_power_consumption ]] W'
              - entity: switch.livingroom_fan
                state_color: true
                type: custom:secondaryinfo-entity-row
                secondary_info: '[[ sensor.livingroom_fan_stages ]]'
              - entity: binary_sensor.basement_washer_on
                name: Washer
                secondary_info: last-changed
              - entity: binary_sensor.bathroom_thermostat_battery_low
              - entity: binary_sensor.bathroom_thermostat_window_open
              - entity: binary_sensor.bedroom_thermostat_battery_low
              - entity: binary_sensor.bedroom_thermostat_window_open
              - entity: binary_sensor.fritz_box_7490_firmware_update
                name: FRITZ!Box Firmware Update
                secondary_info: last-changed
              - entity: binary_sensor.kitchen_cookerhood_on
                name: Kitchen Cookerhood
                state_color: true
                type: custom:secondaryinfo-entity-row
                secondary_info: '[[ sensor.kitchen_cookerhood_power_consumption ]] W'
              - entity: binary_sensor.kitchen_dishwasher_on
                state_color: true
                secondary_info: last-changed
              - entity: binary_sensor.livingroom_balcony_door
                name: Balcony Door
                secondary_info: last-changed
              - entity: binary_sensor.livingroom_thermostat_battery_low
              - entity: binary_sensor.livingroom_thermostat_window_open
              - entity: binary_sensor.makita_akku_charging
                state_color: true
                secondary_info: last-changed
              - entity: binary_sensor.office_thermostat_battery_low
              - entity: binary_sensor.office_thermostat_window_open
              - entity: sensor.kitchen_fridge_states
                name: Fridge
                type: custom:secondaryinfo-entity-row
                secondary_info: '[[ sensor.kitchen_fridge_power_consumption ]] W'
                state_filter:
                  - value: 'Off'
                    operator: not in
              - entity: sensor.livingroom_pc_on
                state_filter:
                  - value: 'Off'
                    operator: not in
                name: Livingroom PC
                type: custom:secondaryinfo-entity-row
                secondary_info: '[[ sensor.livingroom_pc_power_consumption ]] W'
            state_filter:
              - 'on'
            card:
              type: entities
              state_color: true
              show_header_toggle: true
          - type: conditional
            conditions:
              - entity: sensor.fritzbox_callmonitor
                state_not: idle
            card:
              type: logbook
              entities:
                - sensor.fritzbox_callmonitor
              hours_to_show: 72
          - type: entities
            entities:
              - entity: device_tracker.iphone_xs_2
                type: custom:multiple-entity-row
                show_state: false
                state_color: true
                entities:
                  - entity: sensor.iphone_xs_battery_level
                    name: Akku
                  - entity: sensor.sm_t220_internal_storage
                    name: Int.
                  - entity: sensor.iphone_xs_connection_type
                    name: Con.
              - entity: sensor.iphone_xs_geocoded_location
                name: Location
            state_color: true
          - type: entities
            entities:
              - entity: device_tracker.sm_t220
                type: custom:multiple-entity-row
                show_state: false
                state_color: true
                entities:
                  - entity: sensor.sm_t220_battery_level
                    name: Akku
                  - entity: sensor.sm_t220_battery_temperature
                    name: Temp.
                  - entity: sensor.sm_t220_internal_storage
                    name: Int.
                  - entity: sensor.sm_t220_external_storage
                    name: Ext.
                  - entity: binary_sensor.sm_t220_interactive
                    name: Disp.
                  - entity: binary_sensor.sm_t220_music_active
                    name: Play.
              - entity: sensor.sm_t220_geocoded_location
                name: Location
            state_color: true
          - show_current: true
            show_forecast: true
            type: weather-forecast
            entity: weather.home_hourly
            name: ' '
      - type: entities
        entities:
          - type: custom:mini-media-player
            entity: media_player.roon_livingroom
            group: true
            volume_stateless: true
            volume_step: '1'
            name: Livingroom
            speaker_group:
              platform: sonos
              show_group_count: true
              group_mgmt_entity: media_player.sonos_livingroom
              entities:
                - entity_id: media_player.sonos_livingroom
                  name: Livingroom
                - entity_id: media_player.sonos_kitchen
                  name: Kitchen
                - entity_id: media_player.sonos_office
                  name: Office
                - entity_id: media_player.sonos_bedroom
                  name: Bedroom
                - entity_id: media_player.sonos_bathroom
                  name: Bathroom
            hide:
              power: true
              progress: true
              volume_level: false
            shortcuts:
              columns: 5
              column_height: 1
              buttons:
                - icon: mdi:bathtub
                  type: service
                  id: roon.transfer
                  data:
                    entity_id: media_player.roon_livingroom
                    transfer_id: media_player.roon_bathroom
                - icon: mdi:bed-king
                  type: service
                  id: roon.transfer
                  data:
                    entity_id: media_player.roon_livingroom
                    transfer_id: media_player.roon_bedroom
                - icon: mdi:headphones
                  type: service
                  id: roon.transfer
                  data:
                    entity_id: media_player.roon_livingroom
                    transfer_id: media_player.roon_headphones
                - icon: mdi:stove
                  type: service
                  id: roon.transfer
                  data:
                    entity_id: media_player.roon_livingroom
                    transfer_id: media_player.roon_kitchen
                - icon: mdi:desk
                  type: service
                  id: roon.transfer
                  data:
                    entity_id: media_player.roon_livingroom
                    transfer_id: media_player.roon_office
          - type: buttons
            entities:
              - entity: switch.sonos_livingroom_loudness
              - entity: switch.sonos_livingroom_speech_enhancement
              - entity: switch.sonos_livingroom_night_sound
              - entity: switch.sonos_livingroom_surround_enabled
              - entity: switch.sonos_livingroom_sub_enabled
              - entity: switch.sonos_livingroom_sub_polarity
              - entity: switch.sonos_livingroom_touch_controls
              - entity: switch.sonos_livingroom_status_light
          - type: conditional
            conditions:
              - entity: sensor.sonos_livingroom_audio_input_format
                state_not: No input
            row:
              entity: number.sonos_livingroom_bass
              name: Bass
          - type: conditional
            conditions:
              - entity: sensor.sonos_livingroom_audio_input_format
                state_not: No input
            row:
              entity: number.sonos_livingroom_treble
              name: Treble
          - type: conditional
            conditions:
              - entity: sensor.sonos_livingroom_audio_input_format
                state_not: No input
            row:
              entity: number.sonos_livingroom_audio_delay
              name: Audio Delay
          - type: conditional
            conditions:
              - entity: sensor.sonos_livingroom_audio_input_format
                state_not: No input
            row:
              entity: sensor.sonos_livingroom_audio_input_format
              name: Audio Input Format
          - type: conditional
            conditions:
              - entity: media_player.roon_livingroom
                state: playing
            row:
              entity: number.sonos_livingroom_bass
              name: Bass
          - type: conditional
            conditions:
              - entity: media_player.roon_livingroom
                state: playing
            row:
              entity: number.sonos_livingroom_treble
              name: Treble
          - type: conditional
            conditions:
              - entity: switch.sonos_livingroom_surround_enabled
                state: 'on'
            row:
              entity: number.sonos_livingroom_surround_level
              name: TV Surround Level
          - type: conditional
            conditions:
              - entity: switch.sonos_livingroom_surround_enabled
                state: 'on'
            row:
              entity: number.sonos_livingroom_music_surround_level
              name: Music Surround Level
          - type: conditional
            conditions:
              - entity: switch.sonos_livingroom_sub_enabled
                state: 'on'
            row:
              entity: number.sonos_livingroom_sub_gain
              name: Sub Gain
          - type: conditional
            conditions:
              - entity: switch.sonos_livingroom_sub_enabled
                state: 'on'
            row:
              entity: input_number.sonos_livingroom_sub_crossover
              name: Sub Crossover
          - type: divider
          - type: buttons
            entities:
              - entity: switch.livingroom_tv_power
              - entity: light.livingroom_tv_light
              - entity: light.livingroom_floodlight
              - entity: fan.livingroom_fan
              - entity: light.balcony_light
              - entity: vacuum.livingroom_deebot
          - entity: cover.livingroom_shutter_small
            secondary_info: position
            name: Shutter
            tap_action:
              action: call-service
              service: script.livingroom_shutter_favorite
            hold_action:
              action: more-info
          - type: divider
          - entity: climate.livingroom_thermostat
            type: custom:mini-climate
            name: ' '
            hvac_mode:
              hide: true
            icon: mdi:thermostat
            group: true
            secondary_info: hvac-mode
            swap_temperatures: true
            temperature:
              round: 0
            toggle:
              hide: true
            indicators:
              pushbutton_humidity:
                icon:
                  template: () => 'mdi:water'
                  style: |
                    (value) => (value > 60 ? { color: 'blue'} : {}) 
                unit: '%'
                round: 1
                source:
                  entity: sensor.livingroom_pushbutton_humidity
              thermostat_battery:
                icon:
                  template: () => 'mdi:battery'
                  style: |
                    (value) => (value < 10 ? { color: 'red'} : {})
                unit: '%'
                source:
                  entity: sensor.livingroom_thermostat_battery
              pushbutton_battery:
                icon:
                  template: () => 'mdi:battery'
                  style: |
                    (value) => (value < 10 ? { color: 'red'} : {})
                unit: '%'
                source:
                  entity: sensor.livingroom_pushbutton_battery
              balcony_door:
                source:
                  values:
                    'on': Open
                    'off': Closed
                  mapper: value => this.source.values[value]
                  entity: binary_sensor.livingroom_balcony_door
        state_color: true
        card_mod:
          style: |
            ha-card {
              background: rgba(176, 138, 138, 0.5);
            }
      - type: entities
        entities:
          - type: custom:mini-media-player
            entity: media_player.roon_kitchen
            shortcuts:
              columns: 5
              column_height: 1
              buttons:
                - icon: mdi:bathtub
                  type: service
                  id: roon.transfer
                  data:
                    entity_id: media_player.roon_kitchen
                    transfer_id: media_player.roon_bathroom
                - icon: mdi:bed-king
                  type: service
                  id: roon.transfer
                  data:
                    entity_id: media_player.roon_kitchen
                    transfer_id: media_player.roon_bedroom
                - icon: mdi:headphones
                  type: service
                  id: roon.transfer
                  data:
                    entity_id: media_player.roon_kitchen
                    transfer_id: media_player.roon_headphones
                - icon: mdi:sofa
                  type: service
                  id: roon.transfer
                  data:
                    entity_id: media_player.roon_kitchen
                    transfer_id: media_player.roon_livingroom
                - icon: mdi:desk
                  type: service
                  id: roon.transfer
                  data:
                    entity_id: media_player.roon_kitchen
                    transfer_id: media_player.roon_office
            volume_stateless: true
            volume_step: '1'
            hide:
              power: true
              progress: true
              volume_level: false
            speaker_group:
              platform: sonos
              show_group_count: true
              group_mgmt_entity: media_player.sonos_kitchen
              entities:
                - entity_id: media_player.sonos_livingroom
                  name: Livingroom
                - entity_id: media_player.sonos_kitchen
                  name: Kitchen
                - entity_id: media_player.sonos_office
                  name: Office
                - entity_id: media_player.sonos_bedroom
                  name: Bedroom
                - entity_id: media_player.sonos_bathroom
                  name: Bathroom
            info: short
            name: Kitchen
            group: true
          - type: buttons
            entities:
              - entity: switch.sonos_kitchen_loudness
              - entity: switch.sonos_kitchen_touch_controls
              - entity: switch.sonos_kitchen_status_light
          - type: conditional
            conditions:
              - entity: media_player.roon_kitchen
                state: playing
            row:
              entity: number.sonos_kitchen_bass
              name: Bass
          - type: conditional
            conditions:
              - entity: media_player.roon_kitchen
                state: playing
            row:
              entity: number.sonos_kitchen_treble
              name: Treble
            card_mod:
              style: |
                .entity__info__media {
                  color: var(--primary-text-color) !important;
                  opacity: 1 !important;
                }
          - type: divider
          - type: buttons
            entities:
              - entity: light.kitchen_light_group
              - entity: switch.kitchen_cookerhood
              - entity: automation.kitchen_cookerhood
              - entity: switch.kitchen_pc
              - entity: camera.kitchen
          - type: divider
          - entity: climate.bathroom_thermostat
            type: custom:mini-climate
            name: ' '
            hide_current_temperature: true
            hvac_mode:
              hide: true
            icon: mdi:thermostat
            group: true
            swap_temperatures: true
            target_temperature:
              source:
                entity: sensor.kitchen_pushbutton_temperature
              round: 0
              icons:
                up: ' '
                down: ' '
            secondary_info:
              hide: true
            toggle:
              hide: true
            indicators:
              pushbutton_humidity:
                icon:
                  template: () => 'mdi:water'
                  style: |
                    (value) => (value > 60 ? { color: 'blue'} : {}) 
                unit: '%'
                round: 1
                source:
                  entity: sensor.kitchen_pushbutton_humidity
              pushbutton_battery:
                icon:
                  template: () => 'mdi:battery'
                  style: |
                    (value) => (value < 10 ? { color: 'red'} : {})
                unit: '%'
                source:
                  entity: sensor.kitchen_pushbutton_battery
        state_color: true
        card_mod:
          style: |
            ha-card {
              background: rgba(211, 188, 0, 0.5);
            }
      - type: entities
        entities:
          - type: custom:mini-media-player
            entity: media_player.roon_office
            shortcuts:
              columns: 5
              column_height: 1
              buttons:
                - icon: mdi:bathtub
                  type: service
                  id: roon.transfer
                  data:
                    entity_id: media_player.roon_office
                    transfer_id: media_player.roon_bathroom
                - icon: mdi:bed-king
                  type: service
                  id: roon.transfer
                  data:
                    entity_id: media_player.roon_office
                    transfer_id: media_player.roon_bedroom
                - icon: mdi:headphones
                  type: service
                  id: roon.transfer
                  data:
                    entity_id: media_player.roon_office
                    transfer_id: media_player.roon_headphones
                - icon: mdi:stove
                  type: service
                  id: roon.transfer
                  data:
                    entity_id: media_player.roon_office
                    transfer_id: media_player.roon_kitchen
                - icon: mdi:sofa
                  type: service
                  id: roon.transfer
                  data:
                    entity_id: media_player.roon_office
                    transfer_id: media_player.roon_livingroom
            volume_stateless: true
            volume_step: '1'
            hide:
              power: true
              progress: true
              volume_level: false
            speaker_group:
              platform: sonos
              show_group_count: true
              group_mgmt_entity: media_player.sonos_office
              entities:
                - entity_id: media_player.sonos_livingroom
                  name: Livingroom
                - entity_id: media_player.sonos_kitchen
                  name: Kitchen
                - entity_id: media_player.sonos_office
                  name: Office
                - entity_id: media_player.sonos_bedroom
                  name: Bedroom
                - entity_id: media_player.sonos_bathroom
                  name: Bathroom
            info: short
            name: Office
            group: true
          - type: buttons
            entities:
              - entity: switch.sonos_office_loudness
              - entity: switch.sonos_office_touch_controls
              - entity: switch.sonos_office_status_light
              - entity: binary_sensor.sonos_office_microphone
          - type: conditional
            conditions:
              - entity: media_player.roon_office
                state: playing
            row:
              entity: number.sonos_office_bass
              name: Bass
          - type: conditional
            conditions:
              - entity: media_player.roon_office
                state: playing
            row:
              entity: number.sonos_office_treble
              name: Treble
            card_mod:
              style: |
                .entity__info__media {
                  color: var(--primary-text-color) !important;
                  opacity: 1 !important;
                }
          - type: divider
          - type: buttons
            entities:
              - entity: camera.office
          - entity: cover.office_shutter
            secondary_info: position
            name: Shutter
            tap_action:
              action: call-service
              service: script.office_shutter_favorite
            hold_action:
              action: more-info
          - type: divider
          - entity: climate.office_thermostat
            type: custom:mini-climate
            name: ' '
            hvac_mode:
              hide: true
            icon: mdi:thermostat
            group: true
            secondary_info: hvac-mode
            swap_temperatures: true
            temperature:
              round: 0
            toggle:
              hide: true
            indicators:
              pushbutton_humidity:
                icon:
                  template: () => 'mdi:water'
                  style: |
                    (value) => (value > 60 ? { color: 'blue'} : {}) 
                unit: '%'
                round: 1
                source:
                  entity: sensor.office_pushbutton_humidity
              thermostat_battery:
                icon:
                  template: () => 'mdi:battery'
                  style: |
                    (value) => (value < 10 ? { color: 'red'} : {})
                unit: '%'
                source:
                  entity: sensor.office_thermostat_battery
              pushbutton_battery:
                icon:
                  template: () => 'mdi:battery'
                  style: |
                    (value) => (value < 10 ? { color: 'red'} : {})
                unit: '%'
                source:
                  entity: sensor.office_pushbutton_battery
        state_color: true
        card_mod:
          style: |
            ha-card {
              background: rgba(255, 255, 255, 0.3);
            }
      - type: entities
        entities:
          - type: custom:mini-media-player
            entity: media_player.roon_headphones
            shortcuts:
              columns: 5
              column_height: 1
              buttons:
                - icon: mdi:bathtub
                  type: service
                  id: roon.transfer
                  data:
                    entity_id: media_player.roon_headphones
                    transfer_id: media_player.roon_bathroom
                - icon: mdi:bed-king
                  type: service
                  id: roon.transfer
                  data:
                    entity_id: media_player.roon_headphones
                    transfer_id: media_player.roon_bedroom
                - icon: mdi:stove
                  type: service
                  id: roon.transfer
                  data:
                    entity_id: media_player.roon_headphones
                    transfer_id: media_player.roon_kitchen
                - icon: mdi:sofa
                  type: service
                  id: roon.transfer
                  data:
                    entity_id: media_player.roon_headphones
                    transfer_id: media_player.roon_livingroom
                - icon: mdi:desk
                  type: service
                  id: roon.transfer
                  data:
                    entity_id: media_player.roon_headphones
                    transfer_id: media_player.roon_office
            hide:
              power: true
              progress: true
              volume: true
            name: Headphones
            group: true
          - type: divider
          - entity: sensor.fritz_box_7490_download_throughput
            name: Download
            type: custom:secondaryinfo-entity-row
            secondary_info: >-
              [[ sensor.fritz_box_7490_max_connection_download_throughput ]]
              kB/s
          - entity: sensor.fritz_box_7490_upload_throughput
            name: Upload
            type: custom:secondaryinfo-entity-row
            secondary_info: '[[ sensor.fritz_box_7490_max_connection_upload_throughput ]] kB/s'
          - entity: button.fritz_box_7490_reconnect
            name: FB-Reconnect
          - entity: sensor.corridor_rock_power_consumption
            name: Server
            icon: mdi:server
            type: custom:secondaryinfo-entity-row
            secondary_info: '[[ sensor.corridor_rock_temperature ]] °C'
        state_color: true
        footer:
          type: graph
          entity: sensor.corridor_rock_power_consumption
          detail: 2
        card_mod:
          style: |
            ha-card {
              background: rgba(255, 46, 134, 0.5);
            }
      - type: entities
        entities:
          - type: custom:mini-media-player
            entity: media_player.roon_bedroom
            shortcuts:
              columns: 5
              column_height: 1
              buttons:
                - icon: mdi:bathtub
                  type: service
                  id: roon.transfer
                  data:
                    entity_id: media_player.roon_bedroom
                    transfer_id: media_player.roon_bathroom
                - icon: mdi:headphones
                  type: service
                  id: roon.transfer
                  data:
                    entity_id: media_player.roon_bedroom
                    transfer_id: media_player.roon_headphones
                - icon: mdi:stove
                  type: service
                  id: roon.transfer
                  data:
                    entity_id: media_player.roon_bedroom
                    transfer_id: media_player.roon_kitchen
                - icon: mdi:sofa
                  type: service
                  id: roon.transfer
                  data:
                    entity_id: media_player.roon_bedroom
                    transfer_id: media_player.roon_livingroom
                - icon: mdi:desk
                  type: service
                  id: roon.transfer
                  data:
                    entity_id: media_player.roon_bedroom
                    transfer_id: media_player.roon_office
            volume_stateless: true
            volume_step: '1'
            speaker_group:
              platform: sonos
              show_group_count: true
              group_mgmt_entity: media_player.sonos_bedroom
              entities:
                - entity_id: media_player.sonos_livingroom
                  name: Livingroom
                - entity_id: media_player.sonos_kitchen
                  name: Kitchen
                - entity_id: media_player.sonos_office
                  name: Office
                - entity_id: media_player.sonos_bedroom
                  name: Bedroom
                - entity_id: media_player.sonos_bathroom
                  name: Bathroom
            hide:
              power: true
              progress: true
              source: true
              volume_level: false
            info: short
            name: Bedroom
            group: true
          - type: buttons
            entities:
              - entity: switch.sonos_bedroom_loudness
              - entity: switch.sonos_bedroom_speech_enhancement
              - entity: switch.sonos_bedroom_night_sound
              - entity: switch.sonos_bedroom_touch_controls
              - entity: switch.sonos_bedroom_status_light
          - type: conditional
            conditions:
              - entity: sensor.sonos_bedroom_audio_input_format
                state_not: No input
            row:
              entity: number.sonos_bedroom_bass
              name: Bass
          - type: conditional
            conditions:
              - entity: sensor.sonos_bedroom_audio_input_format
                state_not: No input
            row:
              entity: number.sonos_bedroom_treble
              name: Treble
          - type: conditional
            conditions:
              - entity: sensor.sonos_bedroom_audio_input_format
                state_not: No input
            row:
              entity: sensor.sonos_bedroom_audio_input_format
              name: Audio Input Format
          - type: conditional
            conditions:
              - entity: sensor.sonos_bedroom_audio_input_format
                state_not: No input
            row:
              entity: number.sonos_bedroom_audio_delay
              name: Audio Delay
          - type: conditional
            conditions:
              - entity: media_player.roon_bedroom
                state: playing
            row:
              entity: number.sonos_bedroom_bass
              name: Bass
          - type: conditional
            conditions:
              - entity: media_player.roon_bedroom
                state: playing
            row:
              entity: number.sonos_bedroom_treble
              name: Treble
            card_mod:
              style: |
                .entity__info__media {
                  color: var(--primary-text-color) !important;
                  opacity: 1 !important;
                }
          - type: divider
          - type: buttons
            entities:
              - entity: light.bedroom_light
              - entity: camera.bedroom
          - entity: cover.bedroom_shutter
            secondary_info: position
            name: Shutter
            tap_action:
              action: call-service
              service: script.bedroom_shutter_favorite
            hold_action:
              action: more-info
          - type: divider
          - entity: climate.bedroom_thermostat
            type: custom:mini-climate
            name: ' '
            hvac_mode:
              hide: true
            icon: mdi:thermostat
            group: true
            secondary_info: hvac-mode
            swap_temperatures: true
            temperature:
              round: 0
            toggle:
              hide: true
            indicators:
              pushbutton_humidity:
                icon:
                  template: () => 'mdi:water'
                  style: |
                    (value) => (value > 60 ? { color: 'blue'} : {}) 
                unit: '%'
                round: 1
                source:
                  entity: sensor.bedroom_pushbutton_humidity
              thermostat_battery:
                icon:
                  template: () => 'mdi:battery'
                  style: |
                    (value) => (value < 10 ? { color: 'red'} : {})
                unit: '%'
                source:
                  entity: sensor.bedroom_thermostat_battery
              pushbutton_battery:
                icon:
                  template: () => 'mdi:battery'
                  style: |
                    (value) => (value < 10 ? { color: 'red'} : {})
                unit: '%'
                source:
                  entity: sensor.bedroom_pushbutton_battery
        state_color: true
        card_mod:
          style: |
            ha-card {
              background: rgba(255, 0, 255, 0.1);
            }
      - type: entities
        entities:
          - type: custom:mini-media-player
            entity: media_player.roon_bathroom
            shortcuts:
              columns: 5
              column_height: 1
              buttons:
                - icon: mdi:bed-king
                  type: service
                  id: roon.transfer
                  data:
                    entity_id: media_player.roon_bathroom
                    transfer_id: media_player.roon_bedroom
                - icon: mdi:headphones
                  type: service
                  id: roon.transfer
                  data:
                    entity_id: media_player.roon_bathroom
                    transfer_id: media_player.roon_headphones
                - icon: mdi:stove
                  type: service
                  id: roon.transfer
                  data:
                    entity_id: media_player.roon_bathroom
                    transfer_id: media_player.roon_kitchen
                - icon: mdi:sofa
                  type: service
                  id: roon.transfer
                  data:
                    entity_id: media_player.roon_bathroom
                    transfer_id: media_player.roon_livingroom
                - icon: mdi:desk
                  type: service
                  id: roon.transfer
                  data:
                    entity_id: media_player.roon_bathroom
                    transfer_id: media_player.roon_office
            volume_stateless: true
            volume_step: '1'
            hide:
              power: true
              progress: true
              volume_level: false
            speaker_group:
              platform: sonos
              show_group_count: true
              group_mgmt_entity: media_player.sonos_bathroom
              entities:
                - entity_id: media_player.sonos_livingroom
                  name: Livingroom
                - entity_id: media_player.sonos_kitchen
                  name: Kitchen
                - entity_id: media_player.sonos_office
                  name: Office
                - entity_id: media_player.sonos_bedroom
                  name: Bedroom
                - entity_id: media_player.sonos_bathroom
                  name: Bathroom
            info: short
            name: Bathroom
            group: true
          - type: buttons
            entities:
              - entity: switch.sonos_bathroom_loudness
              - entity: switch.sonos_bathroom_touch_controls
              - entity: switch.sonos_bathroom_status_light
          - type: conditional
            conditions:
              - entity: media_player.roon_bathroom
                state: playing
            row:
              entity: number.sonos_bathroom_bass
              name: Bass
          - type: conditional
            conditions:
              - entity: media_player.roon_bathroom
                state: playing
            row:
              entity: number.sonos_bathroom_treble
              name: Treble
            card_mod:
              style: |
                .entity__info__media {
                  color: var(--primary-text-color) !important;
                  opacity: 1 !important;
                }
          - type: divider
          - entity: climate.bathroom_thermostat
            type: custom:mini-climate
            name: ' '
            hvac_mode:
              hide: true
            icon: mdi:thermostat
            group: true
            secondary_info: hvac-mode
            swap_temperatures: true
            temperature:
              round: 0
            toggle:
              hide: true
            indicators:
              pushbutton_humidity:
                icon:
                  template: () => 'mdi:water'
                  style: |
                    (value) => (value > 60 ? { color: 'blue'} : {}) 
                unit: '%'
                round: 1
                source:
                  entity: sensor.bathroom_pushbutton_humidity
              thermostat_battery:
                icon:
                  template: () => 'mdi:battery'
                  style: |
                    (value) => (value < 10 ? { color: 'red'} : {})
                unit: '%'
                source:
                  entity: sensor.bathroom_thermostat_battery
              pushbutton_battery:
                icon:
                  template: () => 'mdi:battery'
                  style: |
                    (value) => (value < 10 ? { color: 'red'} : {})
                unit: '%'
                source:
                  entity: sensor.bathroom_pushbutton_battery
        card_mod:
          style: |
            ha-card {
              background: rgba(0, 151, 255, 0.5);
            }
      - type: vertical-stack
        cards:
          - square: false
            columns: 2
            type: grid
            cards:
              - type: entity
                entity: vacuum.livingroom_deebot
                attribute: status
                name: ' Status'
              - type: entity
                entity: vacuum.livingroom_deebot
                attribute: fan_speed
                name: Fan Speed
          - square: false
            columns: 3
            type: grid
            cards:
              - type: entity
                entity: vacuum.livingroom_deebot
                attribute: battery_level
                unit: '%'
                name: Akku
              - type: entity
                entity: vacuum.livingroom_deebot
                attribute: component_side_brush
                unit: '%'
                name: Side Brush
              - type: entity
                entity: vacuum.livingroom_deebot
                attribute: component_filter
                unit: '%'
                name: Filter
  - theme: Backend-selected
    title: Camera
    path: camera
    icon: mdi:cctv
    badges: []
    cards:
      - type: conditional
        conditions:
          - entity: cover.office_shutter
            state_not: closed
        card:
          camera_view: live
          type: picture-glance
          title: Office
          image: /local/blank.png
          entities:
            - entity: camera.office
              tap_action:
                action: call-service
                service: ezviz_cloud.ptz
                data:
                  device_id: a8fe9962f7871e6d157488401c753681
                  direction: left
                  speed: 5
              icon: mdi:arrow-left
              show_icon: true
            - entity: camera.office
              tap_action:
                action: call-service
                service: ezviz_cloud.ptz
                data:
                  device_id: a8fe9962f7871e6d157488401c753681
                  direction: up
                  speed: 5
              icon: mdi:arrow-up
              show_icon: true
            - entity: camera.office
              tap_action:
                action: call-service
                service: ezviz_cloud.ptz
                data:
                  device_id: a8fe9962f7871e6d157488401c753681
                  direction: down
                  speed: 5
              icon: mdi:arrow-down
              show_icon: true
            - entity: camera.office
              tap_action:
                action: call-service
                service: ezviz_cloud.ptz
                data:
                  device_id: a8fe9962f7871e6d157488401c753681
                  direction: right
                  speed: 5
              icon: mdi:arrow-right
              show_icon: true
          camera_image: camera.office
      - type: conditional
        conditions:
          - entity: shutter
            state_not: closed
        card:
          camera_view: live
          type: picture-glance
          title: Bedroom
          image: /local/blank.png
          entities:
            - entity: camera.bedroom
              tap_action:
                action: call-service
                service: ezviz_cloud.ptz
                data:
                  device_id: 06a03f780de1fb8a18b996bb939a42b6
                  direction: left
                  speed: 5
              icon: mdi:arrow-left
              show_icon: true
            - entity: camera.bedroom
              tap_action:
                action: call-service
                service: ezviz_cloud.ptz
                data:
                  device_id: 06a03f780de1fb8a18b996bb939a42b6
                  direction: up
                  speed: 5
              icon: mdi:arrow-up
              show_icon: true
            - entity: camera.bedroom
              tap_action:
                action: call-service
                service: ezviz_cloud.ptz
                data:
                  device_id: 06a03f780de1fb8a18b996bb939a42b6
                  direction: down
                  speed: 5
              icon: mdi:arrow-down
              show_icon: true
            - entity: camera.bedroom
              tap_action:
                action: call-service
                service: ezviz_cloud.ptz
                data:
                  device_id: 06a03f780de1fb8a18b996bb939a42b6
                  direction: right
                  speed: 5
              icon: mdi:arrow-right
              show_icon: true
          camera_image: camera.bedroom
      - camera_view: live
        type: picture-glance
        title: Kitchen
        image: /local/blank.png
        entities:
          - entity: camera.kitchen
            tap_action:
              action: call-service
              service: ezviz_cloud.ptz
              data:
                device_id: e5dab8250f7f8bca0fe4c9c32df401fb
                direction: left
                speed: 5
            icon: mdi:arrow-left
            show_icon: true
          - entity: camera.kitchen
            tap_action:
              action: call-service
              service: ezviz_cloud.ptz
              data:
                device_id: e5dab8250f7f8bca0fe4c9c32df401fb
                direction: up
                speed: 5
            icon: mdi:arrow-up
            show_icon: true
          - entity: camera.kitchen
            tap_action:
              action: call-service
              service: ezviz_cloud.ptz
              data:
                device_id: e5dab8250f7f8bca0fe4c9c32df401fb
                direction: down
                speed: 5
            icon: mdi:arrow-down
            show_icon: true
          - entity: camera.kitchen
            tap_action:
              action: call-service
              service: ezviz_cloud.ptz
              data:
                device_id: e5dab8250f7f8bca0fe4c9c32df401fb
                direction: right
                speed: 5
            icon: mdi:arrow-right
            show_icon: true
        camera_image: camera.kitchen
  - theme: Backend-selected
    title: Music
    path: music
    icon: mdi:music
    badges: []
    cards:
      - type: entities
        entities:
          - type: weblink
            name: Qobuz
            url: https://www.qobuz.com/de-de/shop
          - type: weblink
            name: Bandcamp
            url: https://bandcamp.com/
            icon: si:bandcamp
          - type: weblink
            name: 7digital
            url: https://de.7digital.com/
          - type: weblink
            name: HIGHRESAUDIO
            url: https://www.highresaudio.com/de
          - type: weblink
            name: TIDAL Store
            url: https://store.tidal.com/
            icon: si:tidal
          - type: weblink
            name: HDtracks
            url: https://www.hdtracks.com/
        title: Download
      - type: entities
        entities:
          - type: section
            label: Forum
          - type: weblink
            name: Community
            url: https://community.roonlabs.com/
          - type: section
            label: Artwork
          - type: weblink
            name: Art Director
            url: https://valence.roonlabs.net/artdirector/
          - type: weblink
            name: Image Upscaler
            url: https://imgupscaler.com/
          - type: section
            label: Translations
          - type: weblink
            name: Translations
            url: https://translations.roonlabs.net/lang/german/all
          - type: weblink
            name: ARC Translations
            url: >-
              https://app.localizely.com/projects/1267a6db-ea99-4e37-8ce6-a193e6548ddb/main/translations
        title: Roon
      - type: entities
        entities:
          - type: weblink
            name: MusicBrainz
            url: https://musicbrainz.org/
            icon: si:musicbrainz
          - type: weblink
            name: ListenBrainz
            url: https://listenbrainz.org/
            icon: si:musicbrainz
          - type: weblink
            name: LastFM Profile
            url: https://www.last.fm/de/user/FloriB
            icon: si:lastdotfm
          - type: weblink
            name: Genius
            url: https://genius.com/
            icon: si:genius
          - type: weblink
            name: Lyricsify
            url: https://www.lyricsify.com
          - type: weblink
            name: Deepl
            url: https://www.deepl.com/translator
        title: Tools
      - type: logbook
        entities:
          - sensor.lastfm
        title: Last.fm
      - type: iframe
        url: http://192.168.178.62:1400/support/review
        title: Sonos
        aspect_ratio: 80%
  - theme: Backend-selected
    title: Roon Web Display
    path: roon-web-display
    icon: mdi:monitor
    type: panel
    badges: []
    cards:
      - type: iframe
        url: http://rock:9330/display/
        aspect_ratio: '16:9'
