media_player:
  # Use the Python ADB implementation
  - platform: androidtv
    # TV livingroom
    host: !secret androidtv_ip
    device_class: androidtv

switch:
  - platform: template
    switches:
# Turn TV on/off
## ToDO: read correct state
      livingroom_tv_power:
        turn_on:
          service: wake_on_lan.send_magic_packet
          data:
            mac: !secret tv_livingroom_mac
        turn_off:
          service: androidtv.adb_command
          target:
            entity_id: media_player.android_tv_livingroom
          data:
            command: "POWER"