script:
  tv_livingroom_home:
    alias: TV Livingroom Home
    sequence:
    - service: androidtv.adb_command
      data:
        entity_id: media_player.android_tv_livingroom
        command: "HOME"
  tv_livingroom_up:
    alias: TV Livingroom Up
    sequence:
    - service: androidtv.adb_command
      data:
         entity_id: media_player.android_tv_livingroom
         command: "UP"
  tv_livingroom_down:
    alias: TV Livingroom Down
    sequence:
    - service: androidtv.adb_command
      data:
         entity_id: media_player.android_tv_livingroom
         command: "DOWN"
  tv_livingroom_left:
    alias: TV Livingroom Left
    sequence:
    - service: androidtv.adb_command
      data:
         entity_id: media_player.android_tv_livingroom
         command: "LEFT"
  tv_livingroom_right:
    alias: TV Livingroom Right
    sequence:
    - service: androidtv.adb_command
      data:
         entity_id: media_player.android_tv_livingroom
         command: "RIGHT"
  tv_livingroom_center:
    alias: TV Livingroom Center
    sequence:
    - service: androidtv.adb_command
      data:
         entity_id: media_player.android_tv_livingroom
         command: "CENTER"
  tv_livingroom_exit:
    alias: TV Livingroom Exit
    sequence:
    - service: androidtv.adb_command
      data:
         entity_id: media_player.android_tv_livingroom
         command: "EXIT"
  tv_livingroom_back:
    alias: TV Livingroom Back
    sequence:
    - service: androidtv.adb_command
      data:
         entity_id: media_player.android_tv_livingroom
         command: "BACK"
  tv_livingroom_menu:
    alias: TV Livingroom Menu
    sequence:
    - service: androidtv.adb_command
      data:
         entity_id: media_player.android_tv_livingroom
         command: "MENU"
  tv_livingroom_volup:
    alias: TV Livingroom Volume Up
    sequence:
    - service: androidtv.adb_command
      data:
         entity_id: media_player.android_tv_livingroom
         command: "VOLUME_UP"
  tv_livingroom_voldown:
    alias: TV Livingroom Volume Down
    sequence:
    - service: androidtv.adb_command
      data:
         entity_id: media_player.android_tv_livingroom
         command: "VOLUME_DOWN"
  tv_livingroom_reboot:
    alias: TV Livingroom Reboot
    sequence:
    - service: androidtv.adb_command
      data:
         entity_id: media_player.android_tv_livingroom
         command: "reboot"

media_player:
  # Use the Python ADB implementation
  - platform: androidtv
    # TV livingroom
    host: !secret androidtv_ip
    device_class: androidtv

switch:
  - platform: template
    switches:
# Turn TV on/off
## ToDO: read correct state
      livingroom_tv_power:
        turn_on:
          service: wake_on_lan.send_magic_packet
          data:
            mac: !secret tv_livingroom_mac
        turn_off:
          service: androidtv.adb_command
          target:
            entity_id: media_player.android_tv_livingroom
          data:
            command: "POWER"

notify:
  - platform: nfandroidtv
    host: !secret androidtv_ip
